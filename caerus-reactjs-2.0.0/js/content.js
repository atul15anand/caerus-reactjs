chrome.runtime.onMessage.addListener((function(e,r,t){if("getLinks"===e.action){var s=JSON.parse(localStorage.getItem("articleLinksData"))||[];console.log("stored urls are",s);var o=Array.from(new Set(Array.from(document.querySelectorAll("a")).map((function(e){return e.href})))).filter((function(e){return e.includes("/news/2023/")&&!e.includes("subscriber-only")})).filter((function(e){return!s.includes(e)}));console.log("fetched links are",o),t({links:o})}else if("clearConfirmedUrls"===e.action){var a=[];localStorage.setItem("articleLinksData",JSON.stringify(a)),localStorage.setItem("rss_sources_url",JSON.stringify(a))}else if("fetchRssSources"===e.action){var l=JSON.parse(localStorage.getItem("rss_sources_url"))||[],n=JSON.parse(localStorage.getItem("articleLinksData"))||[];console.log(l),console.log(n),t({data:l})}}));